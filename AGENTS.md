# Repository Guidelines

## Project Structure & Module Organization
- `main.py` hosts the FastAPI backend and API routes.
- `services/` contains backend integrations (e.g., AI client).
- `frontend/` holds the React + Vite app (`src/`, `public/`, `eslint.config.js`).
- `static/` is generated by `./scripts/build-frontend.sh` and served by FastAPI.
- `outputs/` directory for any runtime outputs (currently not used for requirement documents).
- `docs/` includes design and workflow notes.
- `scripts/` provides build/test helpers (Docker and frontend build).

## Build, Test, and Development Commands
- `pip install -r requirements.txt` installs backend dependencies.
- `python3 main.py` runs the FastAPI server (uses `PORT`, default `8000`).
- `cd frontend && npm install` installs frontend dependencies.
- `cd frontend && npm run dev` runs the Vite dev server.
- `./scripts/build-frontend.sh` builds the frontend and copies assets to `static/`.
- `cd frontend && npm run lint` runs ESLint on frontend code.
- `docker build -t requirement-docgen .` builds the container image.
- `./scripts/test_dockerfile.sh` validates the Dockerfile end-to-end.

## Coding Style & Naming Conventions
- Python: 4-space indentation, snake_case for functions/vars, PascalCase for classes.
- React/JS: 2-space indentation, camelCase for variables/functions, PascalCase for components.
- Keep API payload keys consistent with existing JSON (e.g., `requirements_summary`, `features`, `user_stories`).
- Frontend linting is defined in `frontend/eslint.config.js` (ESLint flat config).

## Testing Guidelines
- There is no formal automated test suite yet.
- Use `./scripts/test_dockerfile.sh` to validate container build/run behavior.
- For UI changes, verify locally with `npm run dev` or `npm run build`.

## Commit & Pull Request Guidelines
- Commit history uses short, descriptive messages; both English and Chinese appear.
- Prefer imperative, single-line summaries (e.g., "Add voice HUD", "修复语法错误").
- PRs should include a concise description, reproduction/verification steps, and screenshots for UI changes.
- Link related issues or design notes when relevant.

## Configuration & Secrets
- Create a root `.env` with `AI_BUILDER_TOKEN` and `PORT`.
- Never commit real API tokens; use local environment variables or `.env` files only.
